{"ast":null,"code":"var _jsxFileName = \"/Users/melissanock/hacktober-pumpkin-patch/src/components/Patch/Patch.jsx\";\nimport React from 'react';\nimport './Patch.css';\nimport PatchRow from \"../PatchRow/PatchRow\";\nconst ROW_HEIGHT = 130;\n\nclass Patch extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      numberOfCardsToDisplay: (window.innerHeight - 100) / ROW_HEIGHT,\n      carouselLeft: false,\n      carouselRight: true,\n      carouselDistance: 0\n    };\n\n    this.keyUpHandler = evt => {\n      if (this.state.groupNameModalVisible) {\n        return;\n      }\n\n      const currentGroup = this.props.compareGroups.find(group => group.id === this.props.activeGroupId);\n      const indexOfCurrentGroup = this.props.compareGroups.indexOf(currentGroup);\n\n      if (evt.key === 'ArrowDown') {\n        evt.preventDefault();\n        evt.stopPropagation();\n        let newGroup = this.props.compareGroups[indexOfCurrentGroup + 1];\n\n        if (!newGroup) {\n          newGroup = {};\n        }\n\n        this.props.switchToDifferentGroup(newGroup);\n\n        if (this.state.carouselDistance + this.state.numberOfCardsToDisplay >= this.props.compareGroups.length + 1) {\n          this.handleCarouselDown();\n        }\n      } else if (evt.key === 'ArrowUp' && this.props.activeGroupId - 1 > this.state.carouselDistance) {\n        evt.preventDefault();\n        evt.stopPropagation();\n        const newGroup = this.props.compareGroups[indexOfCurrentGroup - 1];\n\n        if (this.state.carouselDistance) {\n          this.handleCarouselUp();\n        }\n      }\n    };\n\n    this.updateCarouselLocation = (prevState, distance) => {\n      this.setState({\n        carouselDistance: prevState.carouselDistance + distance,\n        carouselUp: prevState.carouselDistance + distance > 0\n      });\n    };\n\n    this.handleCarouselDown = () => {\n      if (this.state.carouselDistance + this.state.numberOfCardsToDisplay < this.props.compareGroups.length + 1) {\n        this.setState(prevState => {\n          return {\n            carouselUp: true,\n            carouselDown: prevState.carouselDistance + Math.floor(prevState.numberOfCardsToDisplay) !== this.props.compareGroups.length,\n            carouselDistance: prevState.carouselDistance + 1\n          };\n        });\n        return;\n      }\n\n      this.setState({\n        carouselDown: false\n      });\n    };\n\n    this.handleCarouselUp = () => {\n      if (this.state.carouselDistance) {\n        this.setState(prevState => {\n          return {\n            carouselUp: prevState.carouselDistance > 1,\n            carouselDown: true,\n            carouselDistance: prevState.carouselDistance - 1\n          };\n        });\n        return;\n      }\n\n      this.setState({\n        carouselUp: false,\n        carouselDown: true\n      });\n    };\n  }\n\n  /**\n   * Add event listener for window resize and carousel\n   */\n  componentDidMount() {\n    this.updateDimensions();\n    this.onWindowResizing = this.updateDimensions.bind(this);\n    window.addEventListener('resize', this.onWindowResizing);\n    document.addEventListener('keyup', this.keyUpHandler);\n  }\n  /**\n   * Remove event listener for window resize\n   */\n\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResizing);\n    document.removeEventListener('keyup', this.keyUpHandler);\n  }\n\n  updateDimensions() {\n    const numberOfRowsToDisplay = (window.innerHeight - 100) / ROW_HEIGHT;\n    this.setState(prevState => {\n      let carouselDown = prevState.carouselDown;\n\n      if (prevState.numberOfRowsToDisplay < numberOfRowsToDisplay) {\n        carouselDown = this.props.compareGroups.length + 1 > prevState.carouselDistance + numberOfCardsToDisplay;\n      }\n\n      return {\n        numberOfRowsToDisplay,\n        carouselDown\n      };\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"patch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(PatchRow, {\n      pumpkins: [],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Patch;","map":{"version":3,"sources":["/Users/melissanock/hacktober-pumpkin-patch/src/components/Patch/Patch.jsx"],"names":["React","PatchRow","ROW_HEIGHT","Patch","Component","state","numberOfCardsToDisplay","window","innerHeight","carouselLeft","carouselRight","carouselDistance","keyUpHandler","evt","groupNameModalVisible","currentGroup","props","compareGroups","find","group","id","activeGroupId","indexOfCurrentGroup","indexOf","key","preventDefault","stopPropagation","newGroup","switchToDifferentGroup","length","handleCarouselDown","handleCarouselUp","updateCarouselLocation","prevState","distance","setState","carouselUp","carouselDown","Math","floor","componentDidMount","updateDimensions","onWindowResizing","bind","addEventListener","document","componentWillUnmount","removeEventListener","numberOfRowsToDisplay","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Patch.css';\nimport PatchRow from \"../PatchRow/PatchRow\";\n\nconst ROW_HEIGHT = 130;\nclass Patch extends React.Component {\n  state = {\n    numberOfCardsToDisplay: (window.innerHeight - 100) / ROW_HEIGHT,\n    carouselLeft: false,\n    carouselRight: true,\n    carouselDistance: 0,\n  };\n\n  /**\n   * Add event listener for window resize and carousel\n   */\n  componentDidMount() {\n    this.updateDimensions();\n    this.onWindowResizing = this.updateDimensions.bind(this);\n    window.addEventListener('resize', this.onWindowResizing);\n    document.addEventListener('keyup', this.keyUpHandler);\n  }\n\n  /**\n   * Remove event listener for window resize\n   */\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResizing);\n    document.removeEventListener('keyup', this.keyUpHandler);\n  }\n\n  updateDimensions() {\n    const numberOfRowsToDisplay = (window.innerHeight - 100) / ROW_HEIGHT;\n\n    this.setState(prevState => {\n      let {carouselDown} = prevState;\n      if (prevState.numberOfRowsToDisplay < numberOfRowsToDisplay) {\n        carouselDown = (this.props.compareGroups.length + 1) >\n          (prevState.carouselDistance + numberOfCardsToDisplay);\n      }\n\n      return {\n        numberOfRowsToDisplay,\n        carouselDown\n      };\n    });\n  }\n\n  keyUpHandler = evt => {\n    if (this.state.groupNameModalVisible) {\n      return;\n    }\n\n    const currentGroup = this.props.compareGroups.find(group => group.id === this.props.activeGroupId);\n    const indexOfCurrentGroup = this.props.compareGroups.indexOf(currentGroup);\n    if (evt.key === 'ArrowDown') {\n      evt.preventDefault();\n      evt.stopPropagation();\n      let newGroup = this.props.compareGroups[indexOfCurrentGroup + 1];\n      if (!newGroup) {\n        newGroup = {};\n      }\n\n      this.props.switchToDifferentGroup(newGroup);\n      if ((this.state.carouselDistance + this.state.numberOfCardsToDisplay) >=\n        (this.props.compareGroups.length + 1)) {\n        this.handleCarouselDown();\n      }\n    } else if (evt.key === 'ArrowUp' && ((this.props.activeGroupId - 1) > this.state.carouselDistance)) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      const newGroup = this.props.compareGroups[indexOfCurrentGroup - 1];\n      if (this.state.carouselDistance) {\n        this.handleCarouselUp();\n      }\n    }\n  };\n\n  updateCarouselLocation = (prevState, distance) => {\n    this.setState({\n      carouselDistance: prevState.carouselDistance + distance,\n      carouselUp: (prevState.carouselDistance + distance) > 0\n    });\n  };\n\n  handleCarouselDown = () => {\n    if ((this.state.carouselDistance + this.state.numberOfCardsToDisplay) < (this.props.compareGroups.length + 1)) {\n      this.setState(prevState => {\n        return {\n          carouselUp: true,\n          carouselDown: (prevState.carouselDistance + Math.floor(prevState.numberOfCardsToDisplay)) !==\n            (this.props.compareGroups.length),\n          carouselDistance: prevState.carouselDistance + 1\n        };\n      });\n      return;\n    }\n\n    this.setState({\n      carouselDown: false\n    });\n  };\n\n  handleCarouselUp = () => {\n    if (this.state.carouselDistance) {\n      this.setState(prevState => {\n        return {\n          carouselUp: prevState.carouselDistance > 1,\n          carouselDown: true,\n          carouselDistance: prevState.carouselDistance - 1\n        };\n      });\n      return;\n    }\n\n    this.setState({\n      carouselUp: false,\n      carouselDown: true\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"patch\">\n        <PatchRow pumpkins={[]}/>\n      </div>\n    );\n  }\n}\n\nexport default Patch;\n"]},"metadata":{},"sourceType":"module"}